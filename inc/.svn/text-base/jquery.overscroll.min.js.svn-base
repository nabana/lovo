/*

 Overscroll v1.6.0
 A jQuery Plugin that emulates the iPhone scrolling experience in a browser.
 http://azoffdesign.com/overscroll

 Intended for use with the latest jQuery
 http://code.jquery.com/jquery-latest.js

 Copyright 2011, Jonathan Azoff
 Dual licensed under the MIT or GPL Version 2 licenses.
 http://jquery.org/license

 For API documentation, see the README file
 http://azof.fr/pYCzuM

 Date: Sunday, December 24th 2011
*/
(function(m,r,y,H,o,I,k,z){var n=o.mozilla?"-moz-":o.webkit?"-webkit-":o.opera?"-o-":o.msie&&o.version>9?"-ms-":"",A=m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||m.msRequestAnimationFrame||function(b){y(b,1E3/60)},s={cursorGrab:n?n+"grab":"move",cursorGrabbing:n?n+"grabbing":"move",scrollingProp:n?n+"overflow-scrolling":"overflow-scrolling",touchEnabled:"ontouchstart"in m},l={drag:"mousemove",end:"mouseup mouseleave click",hover:"mouseenter mouseleave",
ignored:"select dragstart drag",scroll:"scroll",start:"mousedown",wheel:"mousewheel DOMMouseScroll"},h={captureThreshold:3,driftDecay:1.1,driftSequences:22,driftTimeout:100,scrollDelta:15,thumbOpacity:0.7,thumbThickness:6,thumbTimeout:400,wheelDelta:20},J={cancelOn:"",direction:"multi",hoverThumbs:false,scrollDelta:h.scrollDelta,showThumbs:true,persistThumbs:false,wheelDelta:h.wheelDelta,wheelDirection:"vertical",zIndex:999},t=function(b,a){a.trigger("overscroll:"+b)},u=function(b,a,c){a.x=b.pageX;
a.y=b.pageY;a.time=(new Date).getTime();a.index=c;return a},p=function(b,a,c,e){var d,f;if(b&&b.added){if(b.horizontal){d=c*(1+a.container.width/a.container.scrollWidth);f=e+a.thumbs.horizontal.top;b.horizontal.css("margin",f+"px 0 0 "+d+"px")}if(b.vertical){d=c+a.thumbs.vertical.left;f=e*(1+a.container.height/a.container.scrollHeight);b.vertical.css("margin",f+"px 0 0 "+d+"px")}}},q=function(b,a,c){if(b&&b.added&&!a.persistThumbs)if(c){b.vertical&&b.vertical.stop(true,true).fadeTo("fast",h.thumbOpacity);
b.horizontal&&b.horizontal.stop(true,true).fadeTo("fast",h.thumbOpacity)}else{b.vertical&&b.vertical.fadeTo("fast",0);b.horizontal&&b.horizontal.fadeTo("fast",0)}},K=function(b){var a=b.data("events"),c=a&&a.click?a.click.slice():[];a&&delete a.click;b.one("mouseup",function(){k.each(c,function(e,d){b.click(d)});return false})},L=function(b){var a=b.data;q(a.thumbs,a.options,b.type==="mouseenter")},M=function(b){b=b.data;b.flags.dragged||p(b.thumbs,b.sizing,this.scrollLeft,this.scrollTop)},B=function(b){b.preventDefault();
var a=b.data,c=a.options,e=a.sizing,d=a.thumbs,f=a.wheel,g=a.flags,i;b=b.originalEvent;g.drifting=false;if(b.wheelDelta)i=b.wheelDelta/(o.opera?-120:120);if(b.detail)i=-b.detail/3;i*=c.wheelDelta;if(!f){g.dragging=true;a.wheel=f={timeout:null};q(d,c,true)}if(c.wheelDirection==="horizontal")this.scrollLeft-=i;else this.scrollTop-=i;f.timeout&&H(f.timeout);p(d,e,this.scrollLeft,this.scrollTop);f.timeout=y(function(){q(d,c,a.wheel=g.dragging=null)},h.thumbTimeout)},C=function(b){b.preventDefault();var a=
b.data,c=a.options,e=a.sizing,d=a.thumbs,f=a.position,g=a.flags;g.dragged||q(d,c,true);g.dragged=true;if(c.direction!=="vertical")this.scrollLeft-=b.pageX-f.x;if(a.options.direction!=="horizontal")this.scrollTop-=b.pageY-f.y;u(b,a.position);if(--a.capture.index<=0){g.dragging=true;u(b,a.capture,h.captureThreshold)}p(d,e,this.scrollLeft,this.scrollTop)},Q=function(b,a,c){var e=a.data,d,f,g,i=e.capture,j=e.options,N=e.sizing,O=e.thumbs;d=(new Date).getTime()-i.time;var v=b.scrollLeft,w=b.scrollTop,
D=h.driftDecay;if(d>h.driftTimeout)return c(e);d=j.scrollDelta*(a.pageX-i.x);a=j.scrollDelta*(a.pageY-i.y);if(j.direction!=="vertical")v-=d;if(j.direction!=="horizontal")w-=a;f=d/h.driftSequences;g=a/h.driftSequences;t("driftstart",e.target);e.drifting=true;A(function P(){if(e.drifting){e.drifting=false;if(g>1&&b.scrollTop>w||g<-1&&b.scrollTop<w){e.drifting=true;b.scrollTop-=g;g/=D}if(f>1&&b.scrollLeft>v||f<-1&&b.scrollLeft<v){e.drifting=true;b.scrollLeft-=f;f/=D}p(O,N,b.scrollLeft,b.scrollTop);A(P)}else{t("driftend",
e.target);c(e)}})},E=function(b){b.preventDefault();var a=b.data,c=a.target,e=a.start=k(b.target),d=a.flags;d.drifting=false;if(!e.is(a.options.cancelOn)){c.css("cursor",s.cursorGrabbing);d.dragging=d.dragged=false;c.on(l.drag,a,C);a.position=u(b,{});a.capture=u(b,{},h.captureThreshold);t("dragstart",c)}},F=function(b){var a=b.data,c=a.target,e=a.options,d=a.flags,f=a.thumbs,g=function(){f&&!e.hoverThumbs&&q(f,e,false)};c.unbind(l.drag,C);if(a.position){t("dragend",c);d.dragging?Q(this,b,g):g()}d.dragging&&
a.start.is(b.target)&&K(a.start);a.start=a.capture=a.position=d.dragged=d.dragging=false;c.css("cursor",s.cursorGrab)},x=function(b,a){var c=k(b),e,d=c.data("overscroll")||{},f=c.attr("style"),g=a?function(){d=c.data("overscroll");e=d.thumbs;f?c.attr("style",f):c.removeAttr("style");if(e){e.horizontal&&e.horizontal.remove();e.vertical&&e.vertical.remove()}c.removeData("overscroll").off(l.wheel,B).off(l.start,E).off(l.end,F).off(l.ignored,false)}:k.noop;return k.isFunction(d.remover)?d.remover:g},
G=function(b,a){return{position:"absolute",opacity:a.persistThumbs?h.thumbOpacity:0,"background-color":"black",width:b.width+"px",height:b.height+"px","border-radius":b.corner+"px",margin:b.top+"px 0 0 "+b.left+"px","z-index":a.zIndex}};m=function(b){return this.removeOverscroll().each(function(){var a=this,c=b,e;c=c;c=k.extend({},J,c);if(c.direction!=="multi"&&c.direction!==c.wheelDirection)c.wheelDirection=c.direction;c.scrollDelta=r.abs(c.scrollDelta);c.wheelDelta=r.abs(c.wheelDelta);c.scrollLeft=
c.scrollLeft===z?null:r.abs(c.scrollLeft);c.scrollTop=c.scrollTop===z?null:r.abs(c.scrollTop);e=c=c;var d=x(a,true),f=a,g=k(f),i=g.width();g=g.height();var j=i>=f.scrollWidth?i:f.scrollWidth;f=g>=f.scrollHeight?g:f.scrollHeight;d={flags:{dragging:false},options:e,remover:d,sizing:e={container:{width:i,height:g,scrollWidth:j,scrollHeight:f},thumbs:{horizontal:{width:i*i/j,height:h.thumbThickness,corner:h.thumbThickness/2,left:0,top:g-h.thumbThickness},vertical:{width:h.thumbThickness,height:g*g/f,
corner:h.thumbThickness/2,left:i-h.thumbThickness,top:0}}}};d.target=a=k(a).css({position:"relative",overflow:"hidden",cursor:s.cursorGrab}).on(l.wheel,d,B).on(l.start,d,E).on(l.end,d,F).on(l.scroll,d,M).on(l.ignored,false);c.scrollLeft!==null&&a.scrollLeft(c.scrollLeft);c.scrollTop!==null&&a.scrollTop(c.scrollTop);if(c.showThumbs){i=a;f=c;g={};j=false;if(e.container.scrollWidth>0&&f.direction!=="vertical"){j=G(e.thumbs.horizontal,f);g.horizontal=k("<div/>").css(j).prependTo(i)}if(e.container.scrollHeight>
0&&f.direction!=="horizontal"){j=G(e.thumbs.vertical,f);g.vertical=k("<div/>").css(j).prependTo(i)}g.added=!!j;d.thumbs=g;if(g.added){p(g,e,a.scrollLeft(),a.scrollTop());c.hoverThumbs&&a.on(l.hover,d,L)}}a.data("overscroll",d)})};var R=function(){return this.removeOverscroll().each(function(){k(this).data("overscroll",{remover:x(this)}).css(n+"overflow-scrolling","touch").css("overflow","auto")})};m.settings=h;k.extend(I,{overscroll:s.touchEnabled?R:m,removeOverscroll:function(){return this.each(function(){x(this)()})}})})(window,
Math,setTimeout,clearTimeout,jQuery.browser,jQuery.fn,jQuery);
